{% extends 'main/base.html' %}


{% block title %}
    Geo4Tech | Soil Profile

{% load static %}

{% endblock %}

{% block content %}

<!-- this div stands for vue-->
<div id="spt_input_element" >
    <p>In order to create a soil profile, please fill the required data correctly.</p>
    <div class="row">
        <div class="col-md-6">
            <div class="text-center">
                <!-- Number of Layers input box and label-->
                <label for="layer_number">Number of Layers</label>
                <input v-model="layer_number" @change="changeRow(layer_number)"
                       type="number" min="0" oninput="validity.valid||(value='');"
                       id="layer_number" name="layer_number"  value="1" required>
            </div>
        </div>
        <!-- Ground Water Table input box and label-->
        <div class="col-md-6">
        <label for="gwt">Ground Water Table</label>
        <input v-model="gwt" type="number" id="gwt" name="gwt" value="0" required>
        </div>
    </div>


    <!-- spt table -->
    <table border="1" id="spt_table" class="table table-striped table-dark" style="width:50%">
        {% csrf_token %}
        <thead>
            <tr>
                <th style="text-align:center" scope="col">Layer Number</th>
                <th style="text-align:center" scope="col">Soil Type</th>
                <th style="text-align:center" scope="col">Average SPT-N</th>
                <th style="text-align:center" scope="col">Plasticy Index</th>
            </tr>
        </thead>
        <tbody>
            <tr v-for="(row, index) in rows">
                <td scope="row" style="text-align:center">[[ index+1 ]]</td>
                <td style="text-align:center"><select size="1" id="row-1-soil_type" name="row-1-soil_type" style="text-align:center">
                        <option value="Clay" selected="selected">
                            Clay
                        </option>
                        <option value="Silt">
                            Silt
                        </option>
                        <option value="Clayey Sand">
                            Clayey Sand
                        </option>
                        <option value="Silty Sand">
                            Silty Sand
                        </option>
                        <option value="Sand">
                            Sand
                        </option>
                        <option value="Gravel">
                            Gravel
                        </option>
                        <option value="Rock">
                            Sand
                        </option>
                </select></td>
                <!-- Average SPT-N input box -->
                <td style="text-align:center"><input id="row-1-avg_sptn" name="row-1-avg_sptn" value=0 max="50"
                                                     type="number" min="0" oninput="validity.valid||(value='');"></td>
                <!-- Plasticity Index input box -->
                <td style="text-align:center"><input id="row-1-pi" name="row-1-pi" value=0 max="100"
                                                     type="number" min="0" oninput="validity.valid||(value='');"></td>
            </tr>
        </tbody>

    </table>

    <br>
    <br>
    [[ answer ]]

    <p>Layer number: [[layer_number]]</p>

    <button type="button" onclick="makeid(7)">Transfer ID</button>


</div>



      <!-- loading vue for spt table-->
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script type="text/javascript" src="{% static 'main/spt_table_js.js' %}"></script>
    <script type="text/javascript" src="{% static 'main/spt_data_transfer.js' %}"></script>

{% endblock %}